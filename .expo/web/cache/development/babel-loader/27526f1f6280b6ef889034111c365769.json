{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\AntoineO\\\\Documents\\\\Site web\\\\React Native\\\\test\\\\Composants\\\\composant.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { pays } from \"./meteo.js\";\nimport * as Location from 'expo-location';\nexport var Meteo = function (_Component) {\n  _inherits(Meteo, _Component);\n\n  var _super = _createSuper(Meteo);\n\n  function Meteo(props) {\n    var _this;\n\n    _classCallCheck(this, Meteo);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      \"city\": \"Lyon\"\n    };\n    _this.pays = pays;\n    return _this;\n  }\n\n  _createClass(Meteo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Location.requestPermissionsAsync();\n      console.log(Location.getCurrentPositionAsync());\n      console.log(this.state);\n      fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\" + this.state.city + \"&APPID=fa956c3c094574e034c48dc970215933\").then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        return _this2.setState({\n          \"tab\": result\n        });\n      }, function (error) {});\n    }\n  }, {\n    key: \"update\",\n    value: function update(ville) {\n      var _this3 = this;\n\n      fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\" + ville + \"&APPID=fa956c3c094574e034c48dc970215933\").then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        if (result.cod == \"200\") {\n          _this3.setState({\n            \"tab\": result\n          });\n        }\n      }, function (error) {\n        _this3.setState({\n          \"error\": error\n        });\n      });\n      this.setState({\n        \"city\": ville\n      });\n    }\n  }, {\n    key: \"kelvin\",\n    value: function kelvin(_kelvin) {\n      return (_kelvin - 273.15).toFixed(1);\n    }\n  }, {\n    key: \"changeCity\",\n    value: function changeCity() {\n      this.update(this.state.city);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      if (this.state.tab !== undefined) {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 9\n          }\n        }, React.createElement(TextInput, {\n          onChangeText: function onChangeText(text) {\n            return _this4.setState({\n              \"city\": text\n            });\n          },\n          style: {\n            height: 40,\n            backgroundColor: 'azure',\n            fontSize: 20\n          },\n          placeholder: \"Changer la ville\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }\n        }), React.createElement(Button, {\n          title: \"Valider\",\n          onPress: function onPress(event) {\n            return _this4.changeCity();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 11\n          }\n        }), React.createElement(Text, {\n          h2: \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 11\n          }\n        }, this.state.tab.city.name), React.createElement(Text, {\n          h2: \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }\n        }, this.pays[this.state.tab.city.country]), React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }\n        }, \"Max : \", this.kelvin(this.state.tab.list[0].main.temp_max), \" \\xB0C\")), React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }\n        }, \"Actu : \", this.kelvin(this.state.tab.list[0].main.temp), \" \\xB0C\")), React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }\n        }, \"Min : \", this.kelvin(this.state.tab.list[0].main.temp_min), \" \\xB0C\")));\n      } else {\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }\n        }, React.createElement(Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }\n        }, \"A\"));\n      }\n    }\n  }]);\n\n  return Meteo;\n}(Component);\nvar test = StyleSheet.create({\n  img: {\n    width: \"90%\",\n    height: 200\n  },\n  text: {\n    width: \"90%\"\n  },\n  cont: {\n    width: \"100%\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/AntoineO/Documents/Site web/React Native/test/Composants/composant.js"],"names":["React","Component","useState","useEffect","pays","Location","Meteo","props","state","requestPermissionsAsync","console","log","getCurrentPositionAsync","fetch","city","then","res","json","result","setState","error","ville","cod","kelvin","toFixed","update","tab","undefined","text","height","backgroundColor","fontSize","event","changeCity","name","country","list","main","temp_max","temp","temp_min","test","StyleSheet","create","img","width","cont","alignItems"],"mappings":"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","sourcesContent":["import React,{Component,useState, useEffect } from 'react';\r\n//import Geolocation from '@react-native-community/geolocation';\r\nimport { StyleSheet, Text, View, Image, TextInput, Keyboard,Button} from 'react-native';\r\nimport { pays } from './meteo.js';\r\nimport * as Location from 'expo-location';\r\n\r\n\r\n\r\n\r\n\r\nexport class Meteo extends Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\"city\" : \"Lyon\"};\r\n    this.pays = pays;\r\n\r\n  }\r\n\r\n  componentDidMount(){\r\n      Location.requestPermissionsAsync();\r\n      console.log(Location.getCurrentPositionAsync());\r\nconsole.log(this.state);\r\n    fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\"+this.state.city+\"&APPID=fa956c3c094574e034c48dc970215933\")\r\n      .then(res => res.json())\r\n      .then((result) => this.setState({\"tab\":result}) , (error) => {} );\r\n\r\n\r\n\r\n  }\r\n\r\n  update(ville){\r\n    fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\"+ville+\"&APPID=fa956c3c094574e034c48dc970215933\")\r\n      .then(res => res.json())\r\n      .then((result) => {if (result.cod == \"200\") {this.setState({\"tab\" : result})}  } , (error) => {this.setState({\"error\" : error})} );\r\n\r\n    this.setState({\"city\" : ville });\r\n  }\r\n\r\n  kelvin(kelvin) {\r\n    return (kelvin-273.15).toFixed(1);\r\n  }\r\n\r\n  changeCity(){\r\n    this.update(this.state.city);\r\n  }\r\n\r\n\r\n  render(){\r\n    if (this.state.tab !== undefined) {\r\n      return (\r\n        <View>\r\n          <TextInput  onChangeText={text => (this.setState({\"city\" : text}))} style={{height: 40,backgroundColor: 'azure', fontSize: 20}} placeholder=\"Changer la ville\"/>\r\n          <Button title=\"Valider\" onPress={(event)=> (this.changeCity())}/>\r\n          <Text h2=\"true\">{this.state.tab.city.name}</Text>\r\n          <Text h2=\"true\">{this.pays[this.state.tab.city.country]}</Text>\r\n          <View><Text>Max : {this.kelvin(this.state.tab.list[0].main.temp_max)} °C</Text></View>\r\n          <View><Text>Actu : {this.kelvin(this.state.tab.list[0].main.temp)} °C</Text></View>\r\n          <View><Text>Min : {this.kelvin(this.state.tab.list[0].main.temp_min)} °C</Text></View>\r\n        </View>\r\n      );\r\n  }else{\r\n      return(\r\n          <View><Text>A</Text></View>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst test = StyleSheet.create({\r\n  img: {\r\n    width : \"90%\",\r\n    height : 200,\r\n  },\r\n  text : {\r\n    width : \"90%\",\r\n  },\r\n  cont:{\r\n    width : \"100%\",\r\n    alignItems : \"center\",\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}